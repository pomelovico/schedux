{"version":3,"sources":["webpack:///webpack/bootstrap 15b37788e74a37fb10ca","webpack:///./src/index.js","webpack:///./src/calender.js","webpack:///./src/utils.js"],"names":["c","console","log","genMonth","monthDays","Calender","str","date","Date","y","getFullYear","m","getMonth","d","getDay","arr","dateStr","i","join","push","genWeekByTs","getDate","wd","mDays","lastMonthDays","start","belong","end","last","s","e","cm","startTs","getTime","dd","isLeapYear","year"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;AC7DA;;;;;;AAEA,IAAMA,IAAI,uBAAa,WAAb,CAAV;;AAEA;AACA;AACAC,QAAQC,GAAR,CAAYF,EAAEG,QAAF,EAAZ,E;;;;;;;;;;;;;qjBCNA;;;;;;AAIA;;;;AAEA;AACA,IAAMC,YAAY,CACd,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,EAAsB,EAAtB,EAAyB,EAAzB,EAA4B,EAA5B,EAA+B,EAA/B,EAAkC,EAAlC,CADc,EAEd,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB,EAAsB,EAAtB,EAAyB,EAAzB,EAA4B,EAA5B,EAA+B,EAA/B,EAAkC,EAAlC,CAFc,CAAlB;;IAIqBC,Q;AACjB,sBAAYC,GAAZ,EAAgB;AAAA;;AACZ,aAAKC,IAAL,GAAY,IAAIC,IAAJ,CAASF,GAAT,CAAZ;AACH;;;;kCACQ,CAER;AACD;;;;mCACU;AAAA,gBACDC,IADC,GACO,IADP,CACDA,IADC;;AAEN,gBAAIE,IAAIF,KAAKG,WAAL,EAAR;AAAA,gBACIC,IAAIJ,KAAKK,QAAL,EADR;AAAA,gBAEIC,IAAIN,KAAKO,MAAL,EAFR;AAAA,gBAGIC,MAAM,EAHV;AAAA,gBAIIC,gBAJJ;AAKA,iBAAI,IAAIC,IAAE,CAAV,EAAYA,IAAE,CAAd,EAAgBA,GAAhB,EAAoB;AAChB,oBAAGA,KAAK,CAAL,IAAU,CAAC,uBAAWR,CAAX,CAAX,IAA4BE,KAAK,CAApC,EAAsC;AAClCK,8BAAU,CAACP,CAAD,EAAGE,IAAE,CAAL,EAAO,EAAP,EAAWO,IAAX,CAAgB,GAAhB,CAAV;AACH,iBAFD,MAEK;AACDF,8BAAU,CAACP,CAAD,EAAGE,IAAE,CAAL,EAAO,IAAEM,IAAE,CAAX,EAAcC,IAAd,CAAmB,GAAnB,CAAV;AACH;AACDH,oBAAII,IAAJ,CAAS,KAAKC,WAAL,CAAiB,IAAIZ,IAAJ,CAASQ,OAAT,CAAjB,CAAT;AACH;AACD,mBAAOD,GAAP;AACH;;;gCACOR,I,EAAK;AACTA,mBAAOA,OAAOA,IAAP,GAAc,KAAKA,IAA1B;AACA,gBAAIE,IAAIF,KAAKG,WAAL,EAAR;AAAA,gBACIC,IAAIJ,KAAKK,QAAL,EADR;AAAA,gBAEIC,IAAIN,KAAKc,OAAL,EAFR;AAAA,gBAGIC,KAAKf,KAAKO,MAAL,MAAiB,CAAjB,GAAqB,CAArB,GAAyBP,KAAKO,MAAL,EAHlC;AAAA,gBAGkD;AAC9CC,kBAAM,EAJV;AAAA,gBAKIQ,QAAQnB,UAAU,uBAAWK,CAAX,IAAgB,CAAhB,GAAoB,CAA9B,CALZ,CAFS,CAOoC;AAC7C,gBAAGI,IAAIS,EAAP,EAAU;AACN;AACA,oBAAIE,gBAAgBD,MAAM,CAACZ,IAAI,EAAL,IAAW,EAAjB,CAApB;AACA,oBAAIc,SAAQD,iBAAiBF,KAAIT,CAArB,IAA0B,CAAtC;AACAF,qBAAK,CAAL,IAAUF,GAAV;AACA,uBAAMgB,UAASD,aAAf,EAA6B;AACzBT,wBAAII,IAAJ,CAAS;AACLZ,8BAAK,CAACE,CAAD,EAAIE,KAAK,CAAL,GAAS,EAAT,GAAcA,CAAlB,EAAqBc,QAArB,CADA;AAELC,gCAAO;AAFF,qBAAT;AAIH;AACD,oBAAIT,IAAE,CAAN;AACA,oBAAIU,MAAMd,IAAI,CAAJ,GAAQS,EAAlB;AACA,uBAAML,KAAKU,GAAX,EAAe;AACXZ,wBAAII,IAAJ,CAAS;AACLZ,8BAAK,CAACE,CAAD,EAAGE,IAAE,CAAL,EAAOM,GAAP,CADA;AAELS,gCAAO;AAFF,qBAAT;AAIH;;AAED,uBAAOX,GAAP;AACH;AACD,gBAAIa,OAAO,CAACf,KAAK,IAAIS,EAAT,CAAD,IAAiBC,MAAMZ,CAAN,CAA5B;AACA,gBAAGiB,OAAOf,CAAV,EAAY;AACR;AACA,oBAAIY,QAAQZ,IAAIS,EAAJ,GAAS,CAArB;AACA,uBAAMG,SAASF,MAAMZ,CAAN,CAAf,EAAwB;AACpBI,wBAAII,IAAJ,CAAS;AACLZ,8BAAK,CAACE,CAAD,EAAGE,IAAE,CAAL,EAAOc,OAAP,CADA;AAELC,gCAAO;AAFF,qBAAT;AAIH;AACD,oBAAIT,IAAE,CAAN;AACAN,qBAAK,EAAL,IAAWF,GAAX;AACA,uBAAMQ,KAAGW,IAAT,EAAc;AACVb,wBAAII,IAAJ,CAAS;AACLZ,8BAAK,CAACE,CAAD,EAAGE,KAAG,EAAH,GAAQ,CAAR,GAAYA,IAAI,CAAnB,EAAsBM,GAAtB,CADA;AAELS,gCAAO;AAFF,qBAAT;AAIH;;AAED,uBAAOX,GAAP;AACH;AACD,gBAAIc,IAAIhB,IAAIS,EAAJ,GAAS,CAAjB;AAAA,gBACIQ,IAAIjB,IAAI,CAAJ,GAAOS,EADf;AAEA,mBAAMO,KAAGC,CAAT,EAAW;AACPf,oBAAII,IAAJ,CAAS;AACLZ,0BAAK,CAACE,CAAD,EAAGE,IAAE,CAAL,EAAOkB,GAAP,CADA;AAELH,4BAAO;AAFF,iBAAT;AAIH;;AAED,mBAAOX,GAAP;AACH;;;oCACWR,I,EAAK;AACbA,mBAAOA,OAAOA,IAAP,GAAc,KAAKA,IAA1B;AACA,gBAAIe,KAAKf,KAAKO,MAAL,MAAiB,CAAjB,GAAqB,CAArB,GAAyBP,KAAKO,MAAL,EAAlC;AAAA,gBACID,IAAKN,KAAKc,OAAL,EADT;AAAA,gBAEIU,KAAKxB,KAAKK,QAAL,EAFT;AAGA,gBAAIG,MAAM,EAAV;AAAA,gBACIiB,UAAUzB,KAAK0B,OAAL,KAAiBX,KAAK,QADpC;AAEA,gBAAIL,IAAI,CAAR;AAAA,gBACIS,eADJ;AAEA,mBAAOT,GAAD,GAAM,CAAZ,EAAc;AACV,oBAAIiB,KAAK,IAAI1B,IAAJ,CAASwB,UAAU,WAAWf,CAA9B,CAAT;AACA,oBAAIN,IAAIuB,GAAGtB,QAAH,EAAR;AACA,oBAAID,IAAIoB,EAAL,IAAaA,MAAK,CAAL,IAAUpB,KAAI,EAA9B,EAAkC;AAC9Be,6BAAS,MAAT;AACH,iBAFD,MAEM,IAAIf,IAAIoB,EAAL,IAAaA,MAAM,EAAN,IAAYpB,KAAK,CAAjC,EAAoC;AACtCe,6BAAS,MAAT;AACH,iBAFK,MAED;AACDA,6BAAS,SAAT;AACH;AACDX,oBAAII,IAAJ,CAAS;AACLZ,0BAAK,CAAC2B,GAAGxB,WAAH,EAAD,EAAkBC,IAAI,CAAtB,EAAwBuB,GAAGb,OAAH,EAAxB,CADA;AAELK,4BAAOA;AAFF,iBAAT;AAIH;;AAED,mBAAOX,GAAP;AACH;;;gCACOT,G,EAAI;AACR,iBAAKC,IAAL,GAAY,IAAIC,IAAJ,CAASF,GAAT,CAAZ;AACH;;;;;;kBApHgBD,Q;;;;;;;;;;;;QCPL8B,U,GAAAA,U;AAJhB;;;;AAIO,SAASA,UAAT,CAAoBC,IAApB,EAAyB;AAC5B,SAASA,OAAO,CAAP,IAAY,CAAZ,IAAmBA,OAAO,GAAP,IAAc,CAAnC,IAA0CA,OAAO,GAAP,IAAc,CAA/D;AACH,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 15b37788e74a37fb10ca","import Calender from './calender';\r\n\r\nconst c = new Calender('2018-2-28');\r\n\r\n// console.log(c.genWeek());\r\n// console.log(c.genWeekByTs());\r\nconsole.log(c.genMonth());\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\r\n * @class \r\n * @description 一个日历类\r\n */\r\nimport {isLeapYear} from './utils.js';\r\n\r\n/*每个月的天数*/\r\nconst monthDays = [\r\n    [31,29,31,30,31,30,31,31,30,31,30,31],\r\n    [31,28,31,30,31,30,31,31,30,31,30,31]\r\n]\r\nexport default class Calender {\r\n    constructor(str){\r\n        this.date = new Date(str);\r\n    }\r\n    setDate(){\r\n\r\n    }\r\n    /*生成 5 * 7 的数组，对应一个月（包含上个月的最后几天和下个月的开头几天）*/\r\n    genMonth(){\r\n        let {date} = this;\r\n        let y = date.getFullYear(),\r\n            m = date.getMonth(),\r\n            d = date.getDay(),\r\n            arr = [],\r\n            dateStr;\r\n        for(let i=0;i<5;i++){\r\n            if(i == 4 && !isLeapYear(y) && m == 1){\r\n                dateStr = [y,m+1,28].join('-');\r\n            }else{\r\n                dateStr = [y,m+1,1+i*7].join('-');\r\n            }\r\n            arr.push(this.genWeekByTs(new Date(dateStr)));\r\n        }\r\n        return arr;\r\n    }\r\n    genWeek(date){\r\n        date = date ? date : this.date;\r\n        let y = date.getFullYear(),\r\n            m = date.getMonth(),\r\n            d = date.getDate(),\r\n            wd = date.getDay() == 0 ? 7 : date.getDay(),  // 1 ~ 7 周几\r\n            arr = [],\r\n            mDays = monthDays[isLeapYear(y) ? 0 : 1];/*每个月对应的天数*/\r\n        if(d < wd){\r\n            /*第一周，有上周的日期*/\r\n            let lastMonthDays = mDays[(m + 11) % 12];\r\n            let start = lastMonthDays - (wd -d) + 1;\r\n            m == 0 && y--;\r\n            while(start <= lastMonthDays){\r\n                arr.push({\r\n                    date:[y, m == 0 ? 12 : m, start++],\r\n                    belong:'last'\r\n                });\r\n            };\r\n            var i=1;\r\n            var end = d + 7 - wd;\r\n            while(i <= end){\r\n                arr.push({\r\n                    date:[y,m+1,i++],\r\n                    belong:'current'\r\n                });\r\n            }\r\n            \r\n            return arr;\r\n        }\r\n        var last = (d + (7 - wd)) % mDays[m];\r\n        if(last < d){\r\n            /*一个月的最后一周，有下周的日期*/\r\n            var start = d - wd + 1;\r\n            while(start <= mDays[m]){\r\n                arr.push({\r\n                    date:[y,m+1,start++],\r\n                    belong:'current'\r\n                });\r\n            };\r\n            var i=1;\r\n            m == 11 && y++;\r\n            while(i<=last){\r\n                arr.push({\r\n                    date:[y,m==11 ? 1 : m + 2, i++],\r\n                    belong:'next'\r\n                })\r\n            }\r\n            \r\n            return arr;\r\n        }\r\n        var s = d - wd + 1,\r\n            e = d + 7- wd;\r\n        while(s<=e){\r\n            arr.push({\r\n                date:[y,m+1,s++],\r\n                belong:'current'\r\n            })\r\n        }\r\n        \r\n        return arr;\r\n    }\r\n    genWeekByTs(date){\r\n        date = date ? date : this.date;\r\n        let wd = date.getDay() == 0 ? 7 : date.getDay() ,\r\n            d =  date.getDate(),\r\n            cm = date.getMonth();\r\n        let arr = [],\r\n            startTs = date.getTime() - wd * 86400000;\r\n        let i = 0,\r\n            belong;\r\n        while((i++)<7){\r\n            var dd = new Date(startTs + 86400000 * i);\r\n            var m = dd.getMonth();\r\n            if((m < cm) || (cm ==0 && m ==11)){\r\n                belong = 'last';\r\n            }else if((m > cm) || (cm == 11 && m == 0)){\r\n                belong = 'next';\r\n            }else{\r\n                belong = 'current';\r\n            }\r\n            arr.push({\r\n                date:[dd.getFullYear(),m + 1,dd.getDate()],\r\n                belong:belong\r\n            })\r\n        }\r\n        \r\n        return arr;\r\n    }\r\n    setDate(str){\r\n        this.date = new Date(str);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/calender.js","/**\r\n * @param year\r\n * @returns Boolean\r\n */\r\nexport function isLeapYear(year){\r\n    return ( year % 4 == 0  &&  year % 100 != 0) || (year % 400 == 0 );\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js"],"sourceRoot":""}